# Maintainer: Oleg Titov <oleg.titov@gmail.com>

pkgname='zstd'
pkgver=1.3.7
pkgrel=1
pkgdesc="Zstandard - Fast real-time compression algorithm"
arch=('i686' 'x86_64')
url='https://facebook.github.io/zstd/'
license=('BSD')
makedepends=('gcc' 'make' 'cmake')
source=(${pkgname}-${pkgver}.tar.gz::"https://github.com/facebook/${pkgname}/archive/v${pkgver}.tar.gz")
sha256sums=('5dd1e90eb16c25425880c8a91327f63de22891ffed082fcc17e5ae84fce0d5fb')

prepare() {
  cd "${srcdir}/${pkgname}-${pkgver}"

}

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  cmake \
    -DCMAKE_BUILD_TYPE=Release \
    ../${pkgname}-${pkgver}/build/cmake

  make

}


package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make install DESTDIR="${pkgdir}"

  cd "${srcdir}/${pkgname}-${pkgver}"
  install -D -m644 "LICENSE" "${pkgdir}/share/licenses/${pkgname}/LICENSE"

}
