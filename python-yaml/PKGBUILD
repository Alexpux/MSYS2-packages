# Maintainer: J. Peter Mugaas <jpmugaas@suddenlink.net>
# stolen from Archlinux
pkgbase=python-yaml
pkgname=(python2-yaml python3-yaml)
pkgver=3.12
pkgrel=1
pkgdesc="Python bindings for YAML, using fast libYAML library"
arch=('i686' 'x86_64')
url="http://pyyaml.org"
license=('MIT')
makedepends=('python3' 'python2' 'libyaml')
install='python-yaml.install'
source=(http://pyyaml.org/download/pyyaml/PyYAML-$pkgver.tar.gz)
md5sums=('4c129761b661d181ebf7ff4eb2d79950')

build() {
  true
}

package_python2-yaml() {
  depends=('python2' 'libyaml')

  cd "$srcdir"/PyYAML-$pkgver
  /usr/bin/python2 setup.py install --prefix=/usr --root="$pkgdir"
  install -m644 -D LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}

package_python3-yaml() {
  depends=('python3' 'libyaml')

  cd "$srcdir"/PyYAML-$pkgver
  /usr/bin/python3 setup.py install --prefix=/usr --root="$pkgdir"
  install -m644 -D LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}
